<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css" />
<link rel="stylesheet" href="style.css">
<head>
    <meta charset="UTF-8">
    <title>Taxinator</title>
</head>
<body>

<h1 style="justify-content: center">Taxinator</h1>
<section style="justify-content: center">
    <!-- Navbar -->
    <div class="col-xs-12" style="justify-content: center">
        <button id="info-btn" class="btn"><i class="fa fa-question-circle"></i></button>
    </div>
    <!-- Info-box -->
    <div id="info-dialog" class="dialog">
        <div class="info-content">
            <p class="text-black">This application is intended for users to put in their salary before tax and choose
                from the drop-down menu in which municipality you live in and. If you are member of the Swedish church then you can check in the box</p>
        </div>
    </div>
<form action="/" method="POST" th:object="${person}" style="justify-content">
    <br>
    Lön före skatt: <input type="number" min="0" th:field="*{salary}" required="true" placeholder="Skriv in din bruttolön"/><br>
    <br>
    <select th:field="${kommun.name}" required="true" style="width:300px;height:25px;">
        <option value="" th:hidden="hidden">Välj Kommun...</option>
        <option th:each="kommun : ${kommuner}" th:value="${kommun.name}" th:text="${kommun.name}"></option>
    </select>
    <br>
    <br>
    Medlem i Svenska kyrkan: <input type="checkbox" th:field="*{churchMember}"/>
    <br>
    <br>
    <input type="submit" Value="Beräkna"/>
    <br>
    <br>
    <div th:if="${person.salary != null}">
        <p><b>Information:</b></p>
        <p th:text="'Kommun: ' + ${kommun.name}"></p>
        <p th:text="'Skattesats i ' + ${kommun.name} + ': ' + ${percentage} + '%'"></p>
        <p>Medlem i Svenska Kyrkan: <span th:text="${person.churchMember} ? Ja : Nej"></span></p>
        <p th:text="'Lön före skatt: ' + ${person.salary} + ' SEK'"></p>
        <p th:text="'Lön efter skatt: ' + ${salaryAfterTax} + ' SEK'">
        </p>
        <p th:text="'Summa skatter: ' + ${person.salary - salaryAfterTax} + ' SEK'"></p>
        <p style="text-align: center"><a style="color: white" href="/historik">Historik</a></p>
    </div>
</form>

</section>


    <script src="infobox.js"></script>





</body>
</html>